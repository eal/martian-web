{% extends "base.html" %}
{% block content %}
<div class="span12">
    <h1>Martian Web</h1>
    <p>Write and test your rules here</p>
</div>


<div class="row-fluid">
    <div class="span12">
        <form action="/martian" method="post">
            <div class="form-group">
                <label for="ebnf_input">EBNF rules</label>
                <textarea class="form-control" rows="10" id="form_rules" name="rules" placeholder="Write EBNF rules here">{% if rules %}{{rules}}{% endif %}</textarea>
            </div>
            {% if result %}
            Parsed {{count}} entries:
            <div><hr/>
                <table class="table table-striped">
                    {% for item in result %}
                    <tr>
                        <td class='{% ifequal item.status "success" %}bg-success{% else %}bg-danger{% endifequal %}'> {{item.status}} </td>
                        <td>
                        <table class="table">
                            <tr><td> {{item.entry}} </td></tr>
                            <tr><td><pre>{{item.result}}</pre></td></tr>
                        </table>
                        </td>
                    </tr>
                    {% endfor %}
                </table>
                <hr/>
            </div>
            {% endif %}
            <div class="form-group">
                <label for="log">Log Data</label>
                <textarea class="form-control" rows="10" id="form_logs" name="logs" placeholder="Paste log data here">{{logs}}</textarea>
            </div>
            <div class="checkbox">
                <label>
                    <input type="checkbox"> Multiline (not implemented)
                </label>
            </div>
            <button type="submit" class="btn btn-default" >Submit</button>
        </form>
    </div>
</div>
{% endblock %}
